{% extends 'base.html.twig' %}

{% block title %}✏️ Modifier l'employé{% endblock %}
{% block body_class %}after-login{% endblock %}

{% block body %}
  <header>
    <div class="user-info">
      <strong>{{ app.session.get('user_nom') }}</strong><br>
      <small>{{ app.session.get('user_role') }}</small>
    </div>
    <nav class="nav-links">
      <a href="{{ path('app_entreprises') }}" class="btn blue">🏢 Liste des entreprises</a>
      <a href="{{ path('app_mailing') }}" class="btn blue">📧 Mailing</a>
      <a href="{{ path('app_monespace') }}" class="btn blue">👤 Mon espace</a>
      <a href="{{ path('app_logout') }}" class="btn red">🚪 Déconnexion</a>
    </nav>
  </header>

  <h1>✏️ Modifier l'employé #{{ employe.id }}</h1>

  {% if error %}
    <div class="alert alert-error">❌ {{ error }}</div>
  {% endif %}
  {% if success %}
    <div class="alert alert-success">✅ {{ success }}</div>
  {% endif %}

  <form method="post" style="max-width: 500px;">
    <label for="nom">🧑 Nom :</label>
    <input type="text" id="nom" name="nom" value="{{ employe.nom }}" required placeholder="Nom complet">

    <label for="email">📧 Email :</label>
    <input type="email" id="email" name="email" value="{{ employe.email }}" required placeholder="exemple@domaine.com">

    <label for="tel">📞 Téléphone :</label>
    <input type="text" id="tel" name="tel" value="{{ employe.tel }}" required placeholder="Ex: 12345678">

    <button type="submit" class="btn green">💾 Enregistrer</button>
  </form>

  <p>
    <a href="{{ path('app_employes_entreprise', { id: employe.entreprise.id }) }}"
        style="margin-top: 20px; display: inline-block;">
       ← Retour aux employés
    </a>
  </p>
{% endblock %}
